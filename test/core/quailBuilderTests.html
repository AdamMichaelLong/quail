<!doctype html>
<html>

<head>
  <title>Make sure quail builder is happy</title>
</head>

<body>
  <div class="test-area">
    <p>This is a paragraph.</p>
    <p class="error">This is a paragraph we are testing for.</p>
    <h2 class="callback-error">Heading!</h2>

  </div>
  <script src="../testrunner.js"></script>
  <script>
    (function(global) {
      global.quailTest = function() {
        test('Test that a defined quailBuilderTests variable can set configuration.', function() {
          var testResults = [];
          window.quailBuilderTests = {
            quailBuilderTest : {
              type : 'selector',
              options: {
                selector : '.error'
              }
            }
          };
          $('.test-area').quail({ jsonPath : '../../dist',
                              reset : true,
                              complete : function(results) {
                                testResults = results.results;
                              }});
          equal(true, testResults.quailBuilderTest.elements[0].is('p'), 'Found paragraph with selector');
        });
      };
    })(this);
  </script>
</body>

</html>